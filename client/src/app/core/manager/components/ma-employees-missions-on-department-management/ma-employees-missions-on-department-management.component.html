<app-manager-header></app-manager-header>
<div class="container">
  <div class="d-flex justify-content-center" style="font-size: 30px; padding:20px">
    <span>Chi tiết phòng ban</span>
  </div>
  <div class="card">
    <div class="card-header">
      <h2> {{ departments.name !== '' ? departments.name : 'Chưa có phòng ban' }}</h2>
    </div>
    <div class="card-body">
      <blockquote class="blockquote mb-0">
        <p>{{ departments.descriptions !== '' ? 'Mô tả: ' + departments.descriptions : '' }}</p>
      </blockquote>
    </div>
  </div>
</div>
<div class="container row-gap-3 d-flex">
  <div class="col-md-6">
    <h3>
      <mat-icon>list</mat-icon>
      Danh sách Nhân viên
    </h3>
  </div>
  <div class="col-md-6 text-end" style="padding-top: 15px">
    <button type="button" class="btn btn-outline-primary"
            [disabled]="departments.id==''"
            (click)="openShowCreate()">
      Thêm
    </button>
  </div>
</div>
<div class="tab-content">
  <table class="table table-hover  text-center">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Mã</th>
      <th scope="col">Họ tên</th>
      <th scope="col">Email</th>
      <th scope="col">Ngày sinh</th>
      <th scope="col">Giới tính</th>
      <th scope="col">Địa chỉ</th>
      <th scope="col">Nhiệm vụ</th>
      <th scope="col">Trạng thái</th>
      <th colspan="3">Hành động</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of listEmployeesMissions">
      <th scope="row">{{ item.stt }}</th>
      <td>{{ item.code }}</td>
      <td>{{ item.fullName }}</td>
      <td>{{ item.email }}</td>
      <td>{{ item.birthday | date :'dd/MM/yyyy' }}</td>
      <td>{{ item.gender == 'MALE' ? 'Nam' : 'Nữ' }}</td>
      <td>{{ item.fullAddress }}</td>
      <td>{{ item.fullMissions == '' ? 'Chưa có nhiệm vụ' : item.fullMissions }}</td>
      <td>{{ item.status == 'ACTIVE' ? 'Làm việc' : 'Nghỉ việc' }}</td>
      <td>
        <button type="button" class="btn btn-warning" (click)="openShowUpdate(item.id)">Sửa</button>
      </td>
      <td>
        <button type="button" class="btn btn-danger"
                [disabled]="employeeCurrent.id == item.id"
                (click)="handleDeleteIdDepartmentEmployees(item.id)">Xóa
        </button>
      </td>
    </tr>
    </tbody>
  </table>
</div>

